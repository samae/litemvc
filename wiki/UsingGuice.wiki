#summary How to use Guice as object factory
#labels Featured

Download Guice -- http://code.google.com/p/google-guice

Here's how you make it work:

{{{
public class MyFilter extends LiteMvcFilter {

   private static Injector injector = Guice.createInjector(new MyModule());
	
   @Override
   public void configure() {
      map("/test", TestHandler.class)
         .dispatchResult("OK", "/test.jsp");
   }
	
   @Override
   public Object createObject(Class<?> clazz) throws Exception {
      Object instance = injector.getInstance(clazz);
   }
}

class TestHandler implements Handler<String> {

   // now you can inject stuff or attach interceptors
	
   public String get() {
      return "OK";
   }
}

}}}